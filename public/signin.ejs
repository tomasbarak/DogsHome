<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/html">

<head>
  <%- include('./head.ejs'); %>

  <title>Iniciar sesión</title>
  <link href="/stylesheets/auth-ui/auth-pages-style.css" rel="stylesheet">
  <link rel="icon" href="images/DogsHomeLogo-ReDesign%20(Colorified&Final).png">
  <meta property="og:title" content="DogsHome | Iniciar sesión"/>
  <meta property="og:url" content="https://dogshome.com.ar"/>
  <meta property="og:description" content="Iniciá sesión ahora en DogsHome">
  <meta property="og:image" content="https://dogshome.com.ar/profile/image/uploaded/dogshomelogo.jpg">
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="es_ES" />

  <link rel="canonical" href="https://dogshome.com.ar/signin">

</head>

<body style="display: flex; flex-direction: column; justify-content: flex-start; width: 100% !important;">
  <!-- <svg style="position: absolute; z-index: -1; top: 0; left: 0" xmlns="http://www.w3.org/2000/svg" width="100vw" height="300px" viewBox="0 0 1440.000000 700.000000" preserveAspectRatio="xMidYMid slice" id="svg"> <g transform="translate(0.000000,700.000000) scale(0.100000,-0.100000)" fill="#079292" stroke="none"><path d="M0 5251 l0 -1749 72 -29 c40 -17 231 -97 423 -178 835 -351 1392 -546 1863 -650 533 -117 905 -114 1322 12 136 41 259 90 533 214 438 199 568 251 714 288 222 57 401 76 578 61 307 -25 484 -70 1200 -310 703 -236 999 -314 1349 -356 181 -22 482 -19 636 5 502 79 852 225 1790 746 605 336 842 454 1107 550 325 118 698 171 1041 147 460 -32 855 -138 1602 -431 85 -33 158 -61 163 -61 4 0 7 785 7 1745 l0 1745 -7200 0 -7200 0 0 -1749z"/> </g></svg>-->
  <!-- <div class="auth-page-header">
    <a class="auth-page-header-logo">DogsHome</a>
    <a class="auth-page-header-label">Iniciá sesión</a>
  </div>
   -->
  <section class="auth-page-body" >
    <img id="dogshome-logo" src="/images/DogsHomeLogo-ReDesign%20(Colorified&Final).png" alt="DogsHome Logo">
    <a id="dogshome-name">DogsHome</a>

    <svg class="wave" viewBox="0 0 320 1440" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
      <g id="Layer_1">
        <title>Layer 1</title>
        <g id="svg_1" transform="rotate(90, 159.909, 719.709)">
          <path id="svg_2" fill="#079292"
            d="m-560.09116,650.12319l80,25.42733c80,25.90484 240,76.04324 400,57.30103c160,-19.45847 320,-107.79756 480,-146.35638c160,-37.84255 320,-25.90484 400,-19.10034l80,6.32699l0,305.60548l-80,0c-80,0 -240,0 -400,0c-160,0 -320,0 -480,0c-160,0 -320,0 -400,0l-80,0l0,-229.20411z" />
        </g>
      </g>
    </svg>

    

    <div id="sign-in-form" class="auth-page-form">
      <div id="loading-container">
        <div class="loader-4 btn-loading" id="loading"><span></span></div>
      </div>

      <h1 class="auth-form-title"> Iniciá sesión </h1>

      <div class="input-container">
        <label for="mail">E-mail: </label>
        <input placeholder="E-mail" id="mail" type="email" pattern="([A-Za-z0-9][._]?)+[A-Za-z0-9]@[A-Za-z0-9]+(\.?[A-Za-z0-9]){2}\.(com?|net|org)+(\.[A-Za-z0-9]{2,4})?">
      </div>

      <div class="input-container">
        <label for="password" >Contraseña: </label>
        <input placeholder="Contraseña" id="password" type="password"
          onkeypress="enter(document.getElementById('mail').value, document.getElementById('password').value)">
      </div>

      <div class="auth-btn-container">
        <a href="#" id="sign-in-btn" class="auth-btn">Iniciar sesión</a>
        <a href="/register" class="auth-page-change-method">¿No tenes cuenta? Registrate</a>
      </div>

      <a href="/inicio" class="auth-btn-anonymous">Continuar de forma anónima</a>
    </div>
  </section>

  <!--Firebase Scripts -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://dogshome-6af88.web.app/__/firebase/8.6.5/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://dogshome-6af88.web.app/__/firebase/8.6.5/firebase-auth.js"></script>

  <script src="https://dogshome-6af88.web.app/__/firebase/init.js"></script>
  <script src="https://dogshome-6af88.web.app/__/firebase/8.8.0/firebase-app-check.js"></script>
  <script>
    const appCheck = firebase.appCheck();
    // Pass your reCAPTCHA v3 site key (public key) to activate(). Make sure this
    // key is the counterpart to the secret key you set in the Firebase console.
    appCheck.activate('6LdffbsbAAAAAPN35hXgqZJGvOgpKVZezCzhEsfI');
  </script>

  <script src="scripts/auth/sign-in.js"></script>

  <script>
    function loading(show) {
      const loading = document.getElementById('loading-container');
      if (show) {
        loading.classList.add("visible")
      } else {
        loading.classList.remove("visible")
      }
    }
  </script>

  <script>
    const login_btn = document.getElementById('sign-in-btn');

    login_btn.addEventListener('click', () => {
      loading(true);

      const mail = document.getElementById('mail').value;
      const password = document.getElementById('password').value;

      signIn(mail, password).then(() => {
        loading(false);
        window.location.href = "/inicio";
      }).catch((error) => {
        loading(false);
        swal.fire({
          title: 'Error',
          text: error,
          icon: 'error',
          confirmButtonText: 'Aceptar',
          confirmButtonColor: '#079292'
        });
      });
    });
  </script>
</body>

</html>